<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid DLT Architecture Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Architect's Blueprint -->
    <!-- Application Structure Plan: A tabbed dashboard interface is used to break down the dense report into logical, non-linear sections. The user lands on the "Overview & Recommendation" tab, getting the key takeaways immediately. They can then navigate to "Outer Loop Analysis" for an interactive comparison of PQC candidates, "Inner Loop & Bridge" for architectural diagrams of Holochain and the connector, or "The 'Why' PQC?" for foundational context. This structure prioritizes user-driven exploration over linear reading, making the complex information more digestible and accessible. -->
    <!-- Visualization & Content Choices:
        1. Report Info: Comparative analysis of QAN, IOTA, xx network. Goal: Compare. Viz/Presentation: Interactive radar chart (Chart.js) and detail cards. Interaction: Clicking a candidate button highlights its data on the chart and shows its specific detail card. Justification: A radar chart excels at multi-variable comparison, and interactive drill-downs are more engaging than a static table. Library/Method: Chart.js/Canvas.
        2. Report Info: Holochain vs. Blockchain architecture. Goal: Organize/Explain. Viz/Presentation: Side-by-side diagrams using HTML/CSS. Interaction: Static visual aid. Justification: Visual diagrams clarify abstract concepts more effectively than text alone. Library/Method: HTML/CSS/Tailwind.
        3. Report Info: "Alchemical Converter" bridge flow. Goal: Explain a process. Viz/Presentation: HTML/CSS flowchart. Interaction: Hover effects to reveal more detail on each step. Justification: A flowchart clearly shows the sequence and dependencies. Library/Method: HTML/CSS/JS/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F5F2;
            color: #2c3e50;
        }
        .tab-btn {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }
        .tab-btn.active {
            border-bottom-color: #4A90E2;
            color: #4A90E2;
            font-weight: 600;
        }
        .content-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .content-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .diagram-box {
            border: 2px solid #e2e8f0;
            background-color: #f7fafc;
        }
        .flow-step {
            transition: all 0.3s ease;
        }
        .flow-step:hover {
            background-color: #eef4fc;
            border-color: #4A90E2;
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen container mx-auto px-4 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Hybrid DLT Architecture Analysis</h1>
            <p class="mt-2 text-lg text-gray-600 max-w-3xl mx-auto">An interactive dashboard exploring the strategic recommendations for a sovereign, post-quantum economic architecture.</p>
        </header>

        <nav class="mb-8 border-b border-gray-300">
            <div class="flex justify-center space-x-4 md:space-x-8 -mb-px">
                <button id="btn-overview" class="tab-btn active py-4 px-2 md:px-4 text-sm md:text-base font-medium text-gray-600 hover:text-blue-600 focus:outline-none">Overview & Roadmap</button>
                <button id="btn-outer" class="tab-btn py-4 px-2 md:px-4 text-sm md:text-base font-medium text-gray-600 hover:text-blue-600 focus:outline-none">Outer Loop Analysis</button>
                <button id="btn-inner" class="tab-btn py-4 px-2 md:px-4 text-sm md:text-base font-medium text-gray-600 hover:text-blue-600 focus:outline-none">Inner Loop & Bridge</button>
                <button id="btn-pqc" class="tab-btn py-4 px-2 md:px-4 text-sm md:text-base font-medium text-gray-600 hover:text-blue-600 focus:outline-none">The 'Why' PQC?</button>
            </div>
        </nav>

        <main>
            <!-- Overview & Roadmap Tab -->
            <div id="content-overview" class="space-y-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-800">A Two-Loop Economic Model</h2>
                    <p class="mt-2 text-gray-600 max-w-4xl mx-auto">This architecture validates a hybrid model using the right tool for the right purpose. It separates the fungible, low-context "body" of the economy from the relational, high-context "soul," creating a system that is more resilient, efficient, and truthful to the reality it models.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="content-card p-6 text-center">
                        <div class="text-6xl mb-4">üåÄ</div>
                        <h3 class="text-2xl font-semibold mb-2">The Inner Loop: Relational Fabric</h3>
                        <p class="text-gray-600">Built on <span class="font-semibold text-teal-600">Holochain</span>, this is the agent-centric gift economy. It handles non-fungible, high-context value like reputation (WIS score) and mutual-credit (HEART token). Its biomimetic design reflects the principles of individual sovereignty and flow.</p>
                    </div>
                    <div class="content-card p-6 text-center">
                        <div class="text-6xl mb-4">üõ°Ô∏è</div>
                        <h3 class="text-2xl font-semibold mb-2">The Outer Loop: Livelihood Economy</h3>
                        <p class="text-gray-600">Built on a <span class="font-semibold text-indigo-600">Post-Quantum Blockchain</span>, this is the secure, universal substrate for the fungible SPK token and the "Living Treasury." It provides a global source of truth, resilient against future cryptographic threats.</p>
                    </div>
                </div>

                <div class="content-card p-8">
                    <h3 class="text-2xl font-bold text-center mb-6">Strategic Recommendation & Roadmap</h3>
                    <div class="space-y-6">
                        <div>
                            <h4 class="text-xl font-semibold text-gray-800">Phase 1: Immediate Priorities (0-3 Months)</h4>
                            <ul class="list-disc list-inside mt-2 text-gray-600 space-y-1">
                                <li><span class="font-semibold">Develop Nix Flakes:</span> Create and benchmark reproducible NixOS services for QANplatform and IOTA 2.0 testnets.</li>
                                <li><span class="font-semibold">Prototype hApps:</span> Begin building the Inner Loop's WIS score and HEART token systems on Holochain.</li>
                            </ul>
                        </div>
                         <div>
                            <h4 class="text-xl font-semibold text-gray-800">Phase 2: Mid-Term Goals (3-9 Months)</h4>
                            <ul class="list-disc list-inside mt-2 text-gray-600 space-y-1">
                                <li><span class="font-semibold">Select PQC Substrate:</span> Make a final decision for the Outer Loop based on benchmarking and roadmap clarity.</li>
                                <li><span class="font-semibold">Prototype Bridge:</span> Design and build the "Alchemical Converter" connecting the two loops via a multi-signature oracle.</li>
                                <li><span class="font-semibold">Research xx network:</span> Package the xx network node for long-term observation.</li>
                            </ul>
                        </div>
                         <div>
                            <h4 class="text-xl font-semibold text-gray-800">Phase 3: Long-Term Vision (9+ Months)</h4>
                            <ul class="list-disc list-inside mt-2 text-gray-600 space-y-1">
                                <li><span class="font-semibold">Commission Security Audits:</span> Conduct professional, independent audits of all custom components, especially the bridge.</li>
                                <li><span class="font-semibold">Formalize Governance:</span> Deploy on-chain governance for the Oracular Council, including member selection and veto mechanisms.</li>
                                <li><span class="font-semibold">Deploy to Mainnet:</span> Execute a phased rollout, starting with the SPK token and Living Treasury, followed by the bridge activation.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Outer Loop Tab -->
            <div id="content-outer" class="hidden space-y-8">
                 <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-800">Outer Loop: PQC Candidate Analysis</h2>
                    <p class="mt-2 text-gray-600 max-w-4xl mx-auto">This section provides a deep, comparative analysis of the three leading candidates for the Outer Loop's post-quantum blockchain. Interact with the chart and select a candidate below to explore their strengths, weaknesses, and alignment with our core principles.</p>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 items-start">
                    <div class="content-card p-6">
                        <h3 class="text-xl font-semibold text-center mb-4">Candidate Comparison</h3>
                        <div class="chart-container">
                            <canvas id="pqcRadarChart"></canvas>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex justify-center space-x-4 mb-4">
                             <button data-candidate="qan" class="candidate-btn bg-blue-500 text-white py-2 px-4 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75">QANplatform</button>
                             <button data-candidate="iota" class="candidate-btn bg-gray-500 text-white py-2 px-4 rounded-lg shadow hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75">IOTA</button>
                             <button data-candidate="xx" class="candidate-btn bg-gray-500 text-white py-2 px-4 rounded-lg shadow hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75">xx network</button>
                        </div>
                        <div id="candidate-details" class="content-card p-6 min-h-[300px]">
                            <!-- Details will be injected here by JS -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inner Loop Tab -->
            <div id="content-inner" class="hidden space-y-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-800">Inner Loop: Holochain & The Bridge</h2>
                    <p class="mt-2 text-gray-600 max-w-4xl mx-auto">The Inner Loop's architecture is fundamentally different from a traditional blockchain. It is agent-centric, biomimetic, and designed for relational value. This section visualizes its structure and the critical bridge that connects it to the Outer Loop.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="content-card p-6">
                        <h3 class="text-xl font-semibold text-center mb-4">Architectural Paradigm Shift</h3>
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="diagram-box p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Blockchain (Global Ledger)</h4>
                                <div class="text-4xl">üåç</div>
                                <p class="text-sm mt-2">A single, canonical chain of blocks. All participants must agree on the total state of the ledger.</p>
                            </div>
                            <div class="diagram-box p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">Holochain (Agent-Centric)</h4>
                                <div class="text-4xl">üë§‚ÜîÔ∏èüë§</div>
                                <p class="text-sm mt-2">Each agent has their own local chain. Data is shared and validated peer-to-peer on a DHT.</p>
                            </div>
                        </div>
                        <div class="mt-4 text-gray-600">
                            <p><span class="font-semibold text-teal-600">Holochain's</span> agent-centric model is a direct technical implementation of individual sovereignty. Instead of forcing all interactions onto one global ledger, it creates a framework for distributed applications where you literally own your data and identity.</p>
                        </div>
                    </div>
                    <div class="content-card p-6">
                        <h3 class="text-xl font-semibold text-center mb-4">The "Alchemical Converter" Bridge</h3>
                        <div class="space-y-2">
                             <div class="flow-step p-3 rounded-lg border-2 border-transparent">
                                <p><strong class="text-teal-600">1. Inner Loop State:</strong> The Holochain hApp calculates relational value, like an agent's WIS score, based on peer-validated actions in the DHT.</p>
                            </div>
                            <div class="text-center text-2xl">‚¨áÔ∏è</div>
                             <div class="flow-step p-3 rounded-lg border-2 border-transparent">
                                <p><strong class="text-gray-700">2. Oracular Council Attestation:</strong> A federated council of trusted nodes runs services to read the WIS scores from the Holochain DHT.</p>
                            </div>
                            <div class="text-center text-2xl">‚¨áÔ∏è</div>
                             <div class="flow-step p-3 rounded-lg border-2 border-transparent">
                                <p><strong class="text-yellow-600">3. Multi-Signature Validation:</strong> A threshold of council members (e.g., M-of-N) must cryptographically sign a message attesting to the collected scores.</p>
                            </div>
                             <div class="text-center text-2xl">‚¨áÔ∏è</div>
                             <div class="flow-step p-3 rounded-lg border-2 border-transparent">
                                <p><strong class="text-indigo-600">4. Outer Loop Transaction:</strong> The valid multi-sig transaction is submitted to the PQC blockchain, triggering the distribution of SPK tokens.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PQC Tab -->
            <div id="content-pqc" class="hidden space-y-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-800">The Post-Quantum Imperative</h2>
                    <p class="mt-2 text-gray-600 max-w-4xl mx-auto">Why is Post-Quantum Cryptography (PQC) a non-negotiable requirement for a system designed for the "Long Now"? The threat is not distant or theoretical; it's a present-day architectural imperative.</p>
                </div>
                <div class="content-card p-8">
                    <h3 class="text-2xl font-semibold mb-4 text-red-600">The "Harvest Now, Decrypt Later" Threat</h3>
                    <div class="grid md:grid-cols-3 gap-6 text-center">
                        <div>
                            <div class="text-5xl mb-2">üíæ</div>
                            <h4 class="font-semibold">1. Harvest</h4>
                            <p class="text-sm text-gray-600">Adversaries are actively intercepting and storing encrypted data secured with today's standards (like ECDSA).</p>
                        </div>
                         <div>
                            <div class="text-5xl mb-2">‚è≥</div>
                            <h4 class="font-semibold">2. Wait</h4>
                            <p class="text-sm text-gray-600">This harvested data remains secure until a cryptographically relevant quantum computer is built.</p>
                        </div>
                         <div>
                            <div class="text-5xl mb-2">üîì</div>
                            <h4 class="font-semibold">3. Decrypt</h4>
                            <p class="text-sm text-gray-600">Once available, quantum computers running Shor's algorithm will break current encryption, exposing all previously harvested data.</p>
                        </div>
                    </div>
                    <p class="mt-6 text-gray-700">For the Living Treasury, this means the entire history of transactions could be retrospectively compromised. Adopting PQC, based on NIST-standardized algorithms like <span class="font-mono bg-gray-200 px-1 rounded">CRYSTALS-Dilithium</span>, is the only way to ensure generational resilience against this threat.</p>
                </div>
            </div>
        </main>
    </div>

<script>
    const tabs = [
        { btn: 'btn-overview', content: 'content-overview' },
        { btn: 'btn-outer', content: 'content-outer' },
        { btn: 'btn-inner', content: 'content-inner' },
        { btn: 'btn-pqc', content: 'content-pqc' }
    ];

    const candidateData = {
        qan: {
            name: 'QANplatform',
            recommendation: 'Immediate, Low-Risk Development',
            description: 'The most pragmatic choice for initial deployment due to its high degree of cryptographic assurance and ease of integration.',
            pros: [
                'Uses NIST-standard PQC algorithm (CRYSTALS-Dilithium).',
                'Core VM has a public, third-party security audit by Hacken.',
                'Go-based stack is easy to package for NixOS.',
                'EVM-compatible, easing integration with existing DeFi tools.'
            ],
            cons: [
                'Vision-Reality Gap: Flagship Proof-of-Randomness (PoR) consensus is experimental and not part of the initial launch.',
                'Launches with standard Proof-of-Stake (PoS), making it less differentiated.'
            ]
        },
        iota: {
            name: 'IOTA',
            recommendation: 'Highest Philosophical Alignment',
            description: 'The most compelling candidate from an architectural and philosophical standpoint, but with a critical uncertainty.',
            pros: [
                'DAG architecture is a direct metaphor for the "Mycelial Web".',
                'Extremely energy-efficient and supports feeless microtransactions.',
                'Go/Rust stack provides excellent NixOS packaging ease.',
                'Historical foundation in PQC (WOTS+).'
            ],
            cons: [
                'PQC Roadmap Opacity: Lack of a clear, public plan for transitioning to next-generation NIST-standard PQC algorithms.',
                'This uncertainty is the primary blocker for adoption.'
            ]
        },
        xx: {
            name: 'xx network',
            recommendation: 'Long-Term Research Track',
            description: 'Offers a profound vision of privacy, but its security model carries unacceptable risk for a foundational treasury at this time.',
            pros: [
                'Deepest vision alignment on privacy via cMix metadata-shredding.',
                'Designed from the ground up to be quantum-resistant.',
                'On-chain governance model is well-defined.'
            ],
            cons: [
                'Bespoke Cryptography Risk: Relies on novel, unaudited cryptographic primitives.',
                'C/C++ codebase presents a higher packaging and maintenance burden for NixOS.',
                'Lack of third-party audits for its core crypto is a major security concern.'
            ]
        }
    };

    const radarChartData = {
        labels: ['Security Assurance', 'Vision Alignment', 'NixOS Ease', 'Maturity', 'Eco-Friendliness'],
        datasets: [
            {
                label: 'QANplatform',
                data: [5, 3, 5, 4, 4],
                backgroundColor: 'rgba(74, 144, 226, 0.2)',
                borderColor: 'rgba(74, 144, 226, 1)',
                borderWidth: 2,
                pointBackgroundColor: 'rgba(74, 144, 226, 1)'
            },
            {
                label: 'IOTA',
                data: [2, 5, 5, 4, 5],
                backgroundColor: 'rgba(127, 140, 141, 0.2)',
                borderColor: 'rgba(127, 140, 141, 1)',
                borderWidth: 1,
                pointBackgroundColor: 'rgba(127, 140, 141, 1)'
            },
            {
                label: 'xx network',
                data: [1, 5, 3, 5, 4],
                backgroundColor: 'rgba(231, 76, 60, 0.2)',
                borderColor: 'rgba(231, 76, 60, 1)',
                borderWidth: 1,
                pointBackgroundColor: 'rgba(231, 76, 60, 1)'
            }
        ]
    };

    let pqcRadarChart;

    function initTabs() {
        tabs.forEach(tab => {
            document.getElementById(tab.btn).addEventListener('click', () => {
                // Deactivate all
                tabs.forEach(t => {
                    document.getElementById(t.btn).classList.remove('active');
                    document.getElementById(t.content).classList.add('hidden');
                });
                // Activate clicked
                document.getElementById(tab.btn).classList.add('active');
                document.getElementById(tab.content).classList.remove('hidden');
            });
        });
    }

    function renderCandidateDetails(candidateKey) {
        const detailsContainer = document.getElementById('candidate-details');
        const candidate = candidateData[candidateKey];

        const prosList = candidate.pros.map(pro => `<li class="flex items-start"><span class="text-green-500 mr-2 mt-1">‚úì</span><span>${pro}</span></li>`).join('');
        const consList = candidate.cons.map(con => `<li class="flex items-start"><span class="text-red-500 mr-2 mt-1">‚úó</span><span>${con}</span></li>`).join('');

        detailsContainer.innerHTML = `
            <h4 class="text-2xl font-bold mb-1">${candidate.name}</h4>
            <p class="text-sm font-semibold text-blue-600 mb-3">${candidate.recommendation}</p>
            <p class="text-gray-600 mb-4">${candidate.description}</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <h5 class="font-semibold mb-2 text-gray-700">Strengths</h5>
                    <ul class="space-y-1 text-sm text-gray-600">${prosList}</ul>
                </div>
                <div>
                    <h5 class="font-semibold mb-2 text-gray-700">Primary Risks</h5>
                    <ul class="space-y-1 text-sm text-gray-600">${consList}</ul>
                </div>
            </div>
        `;
    }

    function initOuterLoop() {
        const candidateButtons = document.querySelectorAll('.candidate-btn');
        candidateButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const candidateKey = btn.dataset.candidate;

                // Update button styles
                candidateButtons.forEach(b => {
                    b.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                    b.classList.add('bg-gray-500', 'hover:bg-gray-600');
                });
                btn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                btn.classList.add('bg-blue-500', 'hover:bg-blue-600');

                // Update chart
                pqcRadarChart.data.datasets.forEach((dataset, index) => {
                    if (dataset.label.toLowerCase().includes(candidateKey)) {
                        dataset.borderWidth = 3;
                    } else {
                        dataset.borderWidth = 1;
                    }
                });
                pqcRadarChart.update();

                // Render details
                renderCandidateDetails(candidateKey);
            });
        });

        // Initial render
        document.querySelector('.candidate-btn[data-candidate="qan"]').click();
    }

    function initChart() {
        const ctx = document.getElementById('pqcRadarChart').getContext('2d');
        pqcRadarChart = new Chart(ctx, {
            type: 'radar',
            data: radarChartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.r !== null) {
                                    label += context.parsed.r + ' / 5';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    r: {
                        angleLines: {
                            display: true
                        },
                        suggestedMin: 0,
                        suggestedMax: 5,
                        pointLabels: {
                            font: {
                                size: 12
                            }
                        },
                        ticks: {
                            stepSize: 1
                        }
                    }
                },
            }
        });
    }

    window.onload = () => {
        initTabs();
        initChart();
        initOuterLoop();
    };
</script>

</body>
</html>
